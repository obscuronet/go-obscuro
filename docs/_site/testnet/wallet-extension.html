<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>The Obscuro wallet extension - Obscuro</title>
<meta name="description" content="Obscuro is an Ethereum-compatible confidential smart contract L2 network.">



<meta property="og:type" content="website">
<meta property="og:locale" content="en_UK">
<meta property="og:site_name" content="Obscuro">
<meta property="og:title" content="The Obscuro wallet extension">
<meta property="og:url" content="https://obscu.ro/testnet/wallet-extension.html">


  <meta property="og:description" content="Obscuro is an Ethereum-compatible confidential smart contract L2 network.">












<link rel="canonical" href="https://obscu.ro/testnet/wallet-extension.html">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Obscuro",
      "url": "https://obscu.ro/"
    
  }
</script>







<!-- end _includes/seo.html -->




<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single wide">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Obscuro
          
        </a>
        <ul class="visible-links"></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name"></h3>
    
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">What is Obscuro?</span>
        

        
        <ul>
          
            <li><a href="/what-is-obscuro/privacy-matters.html">Privacy Matters</a></li>
          
            <li><a href="/what-is-obscuro/technology.html">Technology</a></li>
          
            <li><a href="/what-is-obscuro/user-experience.html">User Experience</a></li>
          
            <li><a href="/what-is-obscuro/tokens.html">Tokens</a></li>
          
            <li><a href="/what-is-obscuro/community.html">Community</a></li>
          
            <li><a href="/what-is-obscuro/roadmap.html">Roadmap</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Community</span>
        

        
        <ul>
          
            <li><a href="/community/contributions.html">Contributing to Obscuro</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Obscuro Testnet</span>
        

        
        <ul>
          
            <li><a href="/testnet/Introduction.html">Introduction</a></li>
          
            <li><a href="/testnet/essentials.html">Essential Information</a></li>
          
            <li><a href="/testnet/deploying-a-smart-contract.html">Deploying a Smart Contract</a></li>
          
            <li><a href="/testnet/wallet-extension.html">Wallet Extension</a></li>
          
            <li><a href="/testnet/troubleshooting.html">Troubleshooting</a></li>
          
            <li><a href="/testnet/changelog.html">Change Log</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Whitepaper</span>
        

        
        <ul>
          
            <li><a href="/obscuro-whitepaper/abstract.html">Abstract</a></li>
          
            <li><a href="/obscuro-whitepaper/motivation.html">Motivation</a></li>
          
            <li><a href="/obscuro-whitepaper/challenges.html">Challenges</a></li>
          
            <li><a href="/obscuro-whitepaper/technical-background.html">Technical Background</a></li>
          
            <li><a href="/obscuro-whitepaper/high-level-design.html">High Level Design</a></li>
          
            <li><a href="/obscuro-whitepaper/consensus.html">Consensus</a></li>
          
            <li><a href="/obscuro-whitepaper/detailed-design.html">Detailed Design</a></li>
          
            <li><a href="/obscuro-whitepaper/fees-rewards.html">Fees and Rewards</a></li>
          
            <li><a href="/obscuro-whitepaper/obscuro-ethereum-interaction.html">Obscuro-Ethereum Interaction</a></li>
          
            <li><a href="/obscuro-whitepaper/threat-model.html">Threat Model</a></li>
          
            <li><a href="/obscuro-whitepaper/tokenomics.html">Tokenomics</a></li>
          
            <li><a href="/obscuro-whitepaper/governance.html">Governance</a></li>
          
            <li><a href="/obscuro-whitepaper/appendix.html">Appendix</a></li>
          
            <li><a href="/obscuro-whitepaper/amalgamated.html">All-in-one</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Tokenomics</span>
        

        
        <ul>
          
            <li><a href="/tokenomics/overview.html">Overview</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">About</span>
        

        
        <ul>
          
            <li><a href="https://obscu.ro">Obscuro Home</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="The Obscuro wallet extension">
    
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">The Obscuro wallet extension
</h1>
          


        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>The wallet extension is the Obscuro component that ensures that sensitive information in RPC requests between client
applications and the Obscuro enclave, such as balances or transactions, cannot be eavesdropped on by third parties. It
achieves this goal without requiring any custom wallet software or application code changes. Private keys for Obscuro
addresses may be stored in <a href="https://metamask.io/">MetaMask</a>, for example.</p>

<p>The wallet extension performs two functions:</p>

<ul>
  <li>Encrypting outgoing RPC requests using the public key of the Obscuro enclave</li>
  <li>Decrypting incoming RPC responses for privacy-sensitive requests (e.g. <code class="language-plaintext highlighter-rouge">eth_getBalance</code>, <code class="language-plaintext highlighter-rouge">eth_call</code> and
<code class="language-plaintext highlighter-rouge">eth_getTransactionReceipt</code>) using an address-specific <em>viewing key</em></li>
</ul>

<p><em>Viewing keys</em> are ephemeral public keys generated by the wallet extension. They are sent to the enclave, accompanied
by a signature proving the viewing key was generated by a specific address, and are used to securely encrypt messages
from the enclave back to the wallet extension. The corresponding private key is stored locally by the wallet extension
to securely decrypt the incoming messages.</p>

<p>The wallet extension should be run locally by the user, such that no sensitive data leaves the client’s machine
unencrypted. If the data is not particularly sensitive, it can also be run in another trusted location.</p>

<h2 id="pre-requisites">Pre-requisites</h2>

<ul>
  <li><a href="https://metamask.io/">MetaMask</a>
    <ul>
      <li>MetaMask is required to create a signature over each new viewing key. Other signers are not currently supported</li>
    </ul>
  </li>
  <li><a href="https://go.dev/">Go</a></li>
</ul>

<h2 id="usage">Usage</h2>

<ol>
  <li>
    <p>Precompiled binaries for the wallet extension are available for macOS ARM64, macOS AMD64 and Windows AMD64 on the 
project’s <a href="https://github.com/obscuronet/go-obscuro/releases/">releases page</a></p>

    <ul>
      <li>For other OSes and architectures, see <code class="language-plaintext highlighter-rouge">Compiling the binary</code>, below</li>
    </ul>
  </li>
  <li>
    <p>Start the wallet extension by running the <code class="language-plaintext highlighter-rouge">wallet_extension</code> binary with the following flags:</p>

    <p><code class="language-plaintext highlighter-rouge">--nodeRPCHTTPAddress=&lt;Obscuro host RPC HTTP address&gt; --nodeRPCWebsocketAddress=&lt;Obscuro host RPC websocket address&gt;</code></p>

    <p>The wallet extension is now listening on <code class="language-plaintext highlighter-rouge">http://127.0.0.1:3000/</code></p>
  </li>
  <li>
    <p>In MetaMask, add a new custom network. Point the network at the wallet extension by using <code class="language-plaintext highlighter-rouge">http://127.0.0.1:3000/</code> as
the “New RPC URL”, and use <code class="language-plaintext highlighter-rouge">777</code> as the “Chain ID” (fill in the other parameters as you see fit). Requests and
responses for the network will now automatically pass through the wallet extension, with all outbound requests
encrypted with the enclave public key</p>

    <ul>
      <li>At this stage, no viewing key has been set up. The enclave will refuse to respond to sensitive RPC requests such
as <code class="language-plaintext highlighter-rouge">eth_getBalance</code>, <code class="language-plaintext highlighter-rouge">eth_call</code> and <code class="language-plaintext highlighter-rouge">eth_getTransactionReceipt</code></li>
    </ul>
  </li>
  <li>
    <p>Visit <code class="language-plaintext highlighter-rouge">http://localhost:3000/viewingkeys/</code> to generate a new viewing key. Sign the viewing key when prompted by
MetaMask. Responses to sensitive RPC requests will be now be encrypted with the viewing key and decrypted
automatically by the wallet extension</p>

    <ul>
      <li>Viewing keys are ephemeral. A new viewing key must be created each time the wallet extension is started</li>
    </ul>
  </li>
</ol>

<h1 id="compiling-the-binary">Compiling the binary</h1>

<p>The wallet extension binary can be built by cloning the <a href="https://github.com/obscuronet/go-obscuro">Obscuro repository</a> 
and running the following commands from the root of the repository:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd tools/walletextension/main
go build -o wallet_extension .
</code></pre></div></div>

<p>This will build the wallet extension binary under <code class="language-plaintext highlighter-rouge">tools/walletextension/main/wallet_extension</code></p>

        
      </section>

      <footer class="page__meta">
        
        


        


      </footer>

      

      
    </div>

    
  </article>

  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://twitter.com/obscuronet" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/obscuronet" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://discord.gg/7pkKv2Tyfn" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-discord" aria-hidden="true"></i> Discord</a></li>
        
      
    

    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 Obscuro. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
