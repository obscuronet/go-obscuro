package contracts

import (
	"strings"

	"github.com/ethereum/go-ethereum/accounts/abi"
)

// no point starting the node with invalid contracts
func init() { //nolint:gochecknoinits
	var err error
	MgmtContractABIJSON, err = abi.JSON(strings.NewReader(MgmtContractABI))
	if err != nil {
		panic(err)
	}
}

// MgmtContractABIJSON holds the compiled ABI
// Rather than edit the values below directly, edit rollup.sol and regenerate the ABI and byte code to paste here
// TODO it would be nice to have a auto generation script here
var MgmtContractABIJSON = abi.ABI{}

const (
	AddRollupMethod     = "AddRollup"
	DepositMethod       = "Deposit"
	StoreSecretMethod   = "StoreSecret"
	RequestSecretMethod = "RequestSecret"

	MgmtContractByteCode = `608060405234801561001057600080fd5b50610d9e806100206000396000f3fe6080604052600436106100865760003560e01c80638353ffca116100595780638353ffca146101315780638ce0bd461461015a5780638ef74f8914610176578063e0643dfc146101b3578063fc7e286d146101f057610086565b806347f03a841461008b5780635c26b626146100b657806370342156146100df5780637887aa4f14610108575b600080fd5b34801561009757600080fd5b506100a061022d565b6040516100ad9190610a88565b60405180910390f35b3480156100c257600080fd5b506100dd60048036038101906100d89190610835565b610316565b005b3480156100eb57600080fd5b5061010660048036038101906101019190610835565b610368565b005b34801561011457600080fd5b5061012f600480360381019061012a9190610882565b6103bb565b005b34801561013d57600080fd5b50610158600480360381019061015391906108fe565b6103d7565b005b610174600480360381019061016f9190610808565b610422565b005b34801561018257600080fd5b5061019d60048036038101906101989190610808565b610469565b6040516101aa9190610aaa565b60405180910390f35b3480156101bf57600080fd5b506101da60048036038101906101d5919061093e565b610509565b6040516101e79190610aaa565b60405180910390f35b3480156101fc57600080fd5b5061021760048036038101906102129190610808565b6105c2565b6040516102249190610acc565b60405180910390f35b6060600080438152602001908152602001600020805480602002602001604051908101604052809291908181526020016000905b8282101561030d57838290600052602060002001805461028090610c33565b80601f01602080910402602001604051908101604052809291908181526020018280546102ac90610c33565b80156102f95780601f106102ce576101008083540402835291602001916102f9565b820191906000526020600020905b8154815290600101906020018083116102dc57829003601f168201915b505050505081526020019060010190610261565b50505050905090565b6000804381526020019081526020016000208282909180600181540180825580915050600190039060005260206000200160009091929091929091929091925091906103639291906105da565b505050565b8181600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002091906103b69291906105da565b505050565b82600390805190602001906103d1929190610660565b50505050565b8073ffffffffffffffffffffffffffffffffffffffff166108fc839081150290604051600060405180830381858888f1935050505015801561041d573d6000803e3d6000fd5b505050565b34600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555050565b6002602052806000526040600020600091509050805461048890610c33565b80601f01602080910402602001604051908101604052809291908181526020018280546104b490610c33565b80156105015780601f106104d657610100808354040283529160200191610501565b820191906000526020600020905b8154815290600101906020018083116104e457829003601f168201915b505050505081565b6000602052816000526040600020818154811061052557600080fd5b9060005260206000200160009150915050805461054190610c33565b80601f016020809104026020016040519081016040528092919081815260200182805461056d90610c33565b80156105ba5780601f1061058f576101008083540402835291602001916105ba565b820191906000526020600020905b81548152906001019060200180831161059d57829003601f168201915b505050505081565b60016020528060005260406000206000915090505481565b8280546105e690610c33565b90600052602060002090601f016020900481019282610608576000855561064f565b82601f1061062157803560ff191683800117855561064f565b8280016001018555821561064f579182015b8281111561064e578235825591602001919060010190610633565b5b50905061065c91906106e6565b5090565b82805461066c90610c33565b90600052602060002090601f01602090048101928261068e57600085556106d5565b82601f106106a757805160ff19168380011785556106d5565b828001600101855582156106d5579182015b828111156106d45782518255916020019190600101906106b9565b5b5090506106e291906106e6565b5090565b5b808211156106ff5760008160009055506001016106e7565b5090565b600061071661071184610b0c565b610ae7565b90508281526020810184848401111561073257610731610d03565b5b61073d848285610bf1565b509392505050565b60008135905061075481610d23565b92915050565b60008135905061076981610d3a565b92915050565b60008083601f84011261078557610784610cf9565b5b8235905067ffffffffffffffff8111156107a2576107a1610cf4565b5b6020830191508360018202830111156107be576107bd610cfe565b5b9250929050565b600082601f8301126107da576107d9610cf9565b5b81356107ea848260208601610703565b91505092915050565b60008135905061080281610d51565b92915050565b60006020828403121561081e5761081d610d0d565b5b600061082c84828501610745565b91505092915050565b6000806020838503121561084c5761084b610d0d565b5b600083013567ffffffffffffffff81111561086a57610869610d08565b5b6108768582860161076f565b92509250509250929050565b60008060006040848603121561089b5761089a610d0d565b5b600084013567ffffffffffffffff8111156108b9576108b8610d08565b5b6108c5868287016107c5565b935050602084013567ffffffffffffffff8111156108e6576108e5610d08565b5b6108f28682870161076f565b92509250509250925092565b6000806040838503121561091557610914610d0d565b5b6000610923858286016107f3565b92505060206109348582860161075a565b9150509250929050565b6000806040838503121561095557610954610d0d565b5b6000610963858286016107f3565b9250506020610974858286016107f3565b9150509250929050565b600061098a8383610a07565b905092915050565b600061099d82610b4d565b6109a78185610b70565b9350836020820285016109b985610b3d565b8060005b858110156109f557848403895281516109d6858261097e565b94506109e183610b63565b925060208a019950506001810190506109bd565b50829750879550505050505092915050565b6000610a1282610b58565b610a1c8185610b81565b9350610a2c818560208601610c00565b610a3581610d12565b840191505092915050565b6000610a4b82610b58565b610a558185610b92565b9350610a65818560208601610c00565b610a6e81610d12565b840191505092915050565b610a8281610be7565b82525050565b60006020820190508181036000830152610aa28184610992565b905092915050565b60006020820190508181036000830152610ac48184610a40565b905092915050565b6000602082019050610ae16000830184610a79565b92915050565b6000610af1610b02565b9050610afd8282610c65565b919050565b6000604051905090565b600067ffffffffffffffff821115610b2757610b26610cc5565b5b610b3082610d12565b9050602081019050919050565b6000819050602082019050919050565b600081519050919050565b600081519050919050565b6000602082019050919050565b600082825260208201905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b6000610bae82610bc7565b9050919050565b6000610bc082610bc7565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b82818337600083830152505050565b60005b83811015610c1e578082015181840152602081019050610c03565b83811115610c2d576000848401525b50505050565b60006002820490506001821680610c4b57607f821691505b60208210811415610c5f57610c5e610c96565b5b50919050565b610c6e82610d12565b810181811067ffffffffffffffff82111715610c8d57610c8c610cc5565b5b80604052505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b6000601f19601f8301169050919050565b610d2c81610ba3565b8114610d3757600080fd5b50565b610d4381610bb5565b8114610d4e57600080fd5b50565b610d5a81610be7565b8114610d6557600080fd5b5056fea26469706673582212204edf4acbe42f528789ef3fa1db2f3c069d191fc2a481ea63dad24d3499b8c84864736f6c63430008070033`
	MgmtContractABI      = `[
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "rollupData",
				"type": "string"
			}
		],
		"name": "AddRollup",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "dest",
				"type": "address"
			}
		],
		"name": "Deposit",
		"outputs": [],
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "requestReport",
				"type": "string"
			}
		],
		"name": "RequestSecret",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "Rollup",
		"outputs": [
			{
				"internalType": "string[]",
				"name": "",
				"type": "string[]"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "inputSecret",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "requestReport",
				"type": "string"
			}
		],
		"name": "StoreSecret",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "withdrawAmount",
				"type": "uint256"
			},
			{
				"internalType": "address payable",
				"name": "destination",
				"type": "address"
			}
		],
		"name": "Withdraw",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"name": "attestationRequests",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"name": "deposits",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"name": "rollups",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	}
]`
)
