<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Obscuroscan</title>
    <link rel="icon" type="favicon-32x32" sizes="32x32" href="favicon-32x32.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <script type="text/javascript" src="block_monitor.js"></script>
</head>

<!-- This padding is required to prevent the navbar from overlapping the page contents. -->
<body style="padding-top: 100px;">

<nav class="navbar fixed-top bg-dark">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">
            <img src="logo.png" alt="" height="36">
        </a>
    </div>
</nav>

<!-- TODO - Add a footer. -->
<div class="container">
    <div class="card shadow p-3 mb-5 bg-body rounded">
        <div class="card-body">
            <h2 class="card-title">Obscuro rollup viewer</h2>

            <div id="numRollups">Total rollups: Fetching...</div>

            <p>
            <form id="form-get-rollup">
                <p>
                    <label for="rollupNumber">Fetch rollup:</label>
                    <input id="rollupNumber" placeholder="Rollup number">
                </p>

                <p>
                    <button type="submit" class="btn btn-outline-dark">Submit</button>
                </p>
            </form>
            <hr>

            <p>
                Obscuro rollup:
            <pre id="rollup">N/A</pre>
            <hr>

            <p>
                L1 block:
            <pre id="block">N/A</pre>
        </div>
    </div>
</div>

<div class="container">
    <div class="card shadow p-3 mb-5 bg-body rounded">
        <div class="card-body">
            <h2 class="card-title">Decrypt transaction blobs</h2>

            <p>
                Note that decrypting transaction blobs is only possible on testnet, for which the rollup encryption key
                is
                long-lived and well-known. On mainnet, rollups will use rotating keys that are not known to anyone - or
                anything -
                other than the Obscuro enclaves.
            </p>

            <hr>

            <form id="form-decrypt-tx-blob">
                <p>
                    <label for="encryptedTxBlob">Transaction blob to decrypt:</label>
                </p>

                <p>
                    <textarea rows="10" cols="80" id="encryptedTxBlob"></textarea>
                </p>

                <p>
                    <button type="submit" class="btn btn-outline-dark">Submit</button>
                </p>
            </form>

            <p>
                Decrypted transactions:
            <pre id="decryptedTxs">N/A</pre>
            </p>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous"></script>
</body>
</html>